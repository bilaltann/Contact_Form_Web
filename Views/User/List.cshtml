@model IEnumerable<IletisimForm.Models.User>
@{
    ViewData["Title"] = "List";
}

<div class="m-0">

    <div class="bg-success text-white  p-2">
        Request List
    </div>

    <div class="bg-light p-3 mb-3">
        <form asp-action="List" method="get" class="form-inline">
            <div class="form-group mr-3">
                <label for="firstNameFilter" class="mr-2">İsim:</label>
                <input type="text" id="firstNameFilter" name="firstName" class="form-control" value=@ViewBag.FirstName placeholder="İsim giriniz">
            </div>

            <div class="form-group mr-3">
                <label for="departmentFilter" class="mr-2">Departman:</label>
                <select id="departmentFilter" name="department" value=@ViewBag.Department class="form-control">
                    <option value="">Hepsi</option>
                    <option value="Muhasebe">Muhasebe</option>
                    <option value="TeknikDestek">Teknik Destek</option>
                    <option value="InsanKaynaklari">İnsan Kaynakları</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Filtrele</button>
        </form>
    </div>
    <div class="table-responsive">
        <table class="table table-bordered table-striped m-0">
                <thead>
                        <tr>
                             <th>Id</th>
                             <th>FirstName</th>
                             <th>Telephone</th>
                             <th>Eposta</th>
                             <th>Department</th>
                             <th>Message</th>

                        </tr>
                </thead>
                <tbody>
                     @foreach(var item in Model)
                 {
                    <tr>
                        <td>@item.Id</td>
                        <td>@item.FirstName</td>
                        <td>@item.Telephone</td>
                        <td>@item.Eposta</td>
                        <td>@item.Department</td>
                        <td>@item.Message</td>

                        <td>
                            <form asp-action="Delete" method="post">
                            <a asp-action="Edit" asp-route-id="@item.Id"
                            class="btn btn-primary btn-sm">
                            Edit
                             </a>
                             <input type="hidden" name="id" value="@item.Id" />
                             <button type="submit" class="btn btn-danger btn-sm">
                                 Delete
                             </button>
                             </form>
                        </td> 

                    </tr>

            
                 }
                </tbody>
        </table>
    </div>
</div>
